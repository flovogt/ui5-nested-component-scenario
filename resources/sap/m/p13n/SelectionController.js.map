{"version":3,"file":"SelectionController.js","names":["sap","ui","define","diff","BaseObject","merge","deepEqual","SelectionPanel","xConfigAPI","Configuration","SelectionController","extend","constructor","mSettings","call","this","_oAdaptationControl","control","Error","_sTargetAggregation","targetAggregation","_fSelector","selector","_oP13nData","_bLiveMode","_bResetEnabled","_bReorderingEnabled","hasOwnProperty","enableReorder","prototype","getAdaptationControl","getTargetAggregation","getChangeOperations","add","remove","move","getSelectorForReset","sanityCheck","oState","initAdaptationUI","oPropertyHelper","oAdaptationData","mixInfoAndState","_oPanel","createUI","Promise","resolve","oSelectionPanel","showHeader","enableCount","setEnableReorder","setP13nData","items","getCurrentState","aState","aAggregationItems","getAggregation","forEach","oItem","iIndex","bRelevant","key","getId","getVisible","push","bind","oXConfig","readConfig","oItemXConfig","aggregations","sKey","aStateKeys","map","o","iCurrentIndex","indexOf","iNewIndex","position","bVisible","visible","bReordered","undefined","length","splice","getStateKey","getDelta","mPropertyBag","sPresenceAttribute","_getPresenceAttribute","externalAppliance","aNewStatePrepared","fnFilterUnselected","applyAbsolute","changedState","filter","_getFilledArray","existingState","getArrayDeltaChanges","mDeltaInfo","aExistingArray","aChangedArray","oControl","sInsertOperation","changeOperations","sRemoveOperation","sMoveOperation","sGenerator","generator","aDeltaAttributes","deltaAttributes","fnSymbol","sDiff","sAttribute","aResults","fMatch","oField","aArray","oExistingField","aChanges","aProcessedArray","slice","oResult","type","index","oProp","oExistingProp","iLength","concat","_createAddRemoveChange","_getChangeContent","changeSpecificData","content","name","pop","_createMoveChange","id","oProperty","oChangeContent","sOperation","oContent","oAddRemoveChange","selectorElement","changeType","value","sId","sPropertykey","bPersistId","oMoveChange","bexternalAppliance","getBeforeApply","aItemState","mItemState","arrayToMap","oP13nData","prepareAdaptationData","mItem","oExisting","sortP13nData","getP13nData","_oAdaptationModel","getProperty","model2State","update","setProperty","itemsGrouped","aPreviousItems","aNewItems","sRemoveProperty","aNewItemsPrepared","aNewItemState","mExistingItems","oExistingItem","iNewPosition","iOldPosition","changesToState","oChange","oStateDiffContent","fnEnhace","bGroupData","aItems","mItemsGrouped","bEnhance","Function","getProperties","bIsValid","label","tooltip","group","groupLabel","_buildGroupStructure","aGroupedItems","Object","keys","sGroupKey","getCore","getLibraryResourceBundle","getText","groupVisible","oSorting","mP13nTypeSorting","sPositionAttribute","sSelectedAttribute","sLocale","getLocale","toString","oCollator","window","Intl","Collator","sort","mField1","mField2","compare","reduce","mMap","destroy","apply","arguments"],"sources":["SelectionController-dbg.js"],"mappings":"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"}