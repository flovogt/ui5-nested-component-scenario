{"version":3,"file":"ODataContextBinding.js","names":["sap","ui","define","Context","asODataParentBinding","_Cache","_GroupLock","_Helper","SyncPromise","Binding","ChangeReason","ContextBinding","sClassName","mSupportedEvents","AggregatedDataStateChange","change","dataReceived","dataRequested","DataStateChange","patchCompleted","patchSent","ODataContextBinding","extend","constructor","getReturnValueContextPath","sPath","sResponsePredicate","sBoundParameterPath","slice","lastIndexOf","i","indexOf","oModel","oContext","mParameters","iPos","that","this","call","endsWith","Error","bHasFetchedExpandSelectProperties","oOperation","undefined","oParameterContext","oReturnValueContext","length","bAction","mChangeListeners","sResourcePath","bRelative","create","clone","checkBindingParameters","sGroupId","$$groupId","bInheritExpandSelect","$$inheritExpandSelect","sUpdateGroupId","$$updateGroupId","applyParameters","oElementContext","createNewContext","fetchValue","createReadGroupLock","getGroupId","setContext","bindingCreated","Promise","resolve","then","bInitial","prototype","_execute","oGroupLock","bIgnoreETag","fnOnStrictHandlingFailed","bReplaceWithRVC","oMetaModel","getMetaModel","oOperationMetadata","oPromise","sResolvedPath","getResolvedPathWithReplacedTransientPredicates","sResolvedMetaPath","getMetaPath","fireChangeAndRefreshDependentBindings","_fireChange","reason","Change","refreshDependentBindings","fetchObject","aOperationMetadata","fnGetEntity","iIndex","getObject","$kind","getBinding","getValue","bind","createCacheAndRequest","oResponseEntity","sContextPredicate","oOldValue","oResult","isReturnValueLikeBindingParameter","getPrivateAnnotation","patch","hasReturnValueContext","oCache","oCachePromise","doReplaceWith","setNewGeneration","setResourcePath","getPath","oError","adjustTargetsInError","catch","unlock","reportError","adjustPredicate","sTransientPredicate","sPredicate","apply","arguments","mCacheQueryOptions","fetchCache","sChangeReason","mQueryOptions","buildQueryOptions","isRootBindingSuspended","sResumeChangeReason","refreshInternal","getReporter","execute","attachEvent","sEventId","_oData","_fnFunction","_oListener","computeOperationQueryOptions","Object","assign","mUriParameters","getQueryOptionsFromParameters","checkKeepAlive","vEntity","sMetaPath","sOriginalResourcePath","oRequestor","getOriginalResourcePath","onStrictHandling","error","$ignoreTopLevel","extractMessages","map","oRawMessage","createUI5Message","$IsBound","$ReturnType","$Type","startsWith","keys","destroy","mRefreshParameters","getPathAndAddQueryOptions","createSingle","bAutoExpandSelect","bSharedRequests","post","delete","sEditUrl","_oETagEntity","bDoNotRequestCount","fnUndelete","oEmptyPathParentContext","_findEmptyPathParentContext","oEmptyPathParentBinding","oDeleteParentContext","getContext","undelete","oDeletePromise","Remove","doDelete","_iIndex","iOffset","isRelative","Add","bindingDestroyed","doCreateCache","_oContext","sDeepResourcePath","doDeregisterChangeListener","oListener","removeByPath","doFetchQueryOptions","fetchResolvedQueryOptions","doSetProperty","vValue","updateAll","makeUpdateData","split","doSuspend","getResolvedPath","checkSuspended","checkGroupId","isTransient","includes","lockGroup","publicClone","doFetchExpandSelectProperties","$expand","$select","convertExpandSelectToPaths","forEach","buildPath","bCached","oRootBinding","getRootBinding","isSuspended","canceled","bPreventBubbling","bDataRequested","sRelativePath","getRelativePath","aSegments","addByPath","drillDown","$cached","oReadGroupLock","isRefreshWithoutBubbling","resolveRefreshPromise","fireDataRequested","assertSameCache","fireDataReceived","data","findContextForCanonicalPath","sCanonicalPath","oEntity","hasPrivateAnnotation","fetchCanonicalPath","caught","getResult","getDependentBindings","getParameterContext","mInheritableQueryOptions","getInheritableQueryOptions","addToSelect","sSegment","iTransientPredicate","aMetaSegments","initialize","isResolved","oMetadata","oParentMetaData","sParentMetaPath","$isCollection","$NavigationPropertyBinding","$EntitySetPath","sResourcePathPrefix","bCheckUpdate","bKeepCacheOnError","all","oDependentBinding","refreshSuspended","isRoot","bHasChangeListeners","oRefreshPromise","Refresh","hasChangeListeners","removeCachesAndMessages","createRefreshPromise","fetchResourcePath","getResourcePath","setActive","checkUpdateInternal","refreshReturnValueContext","mLateQueryOptions","aggregateExpandSelect","requestSideEffects","aPaths","aPromises","push","visitSideEffects","refreshDependentListBindingsWithoutCache","e","message","requestObject","resumeInternal","bParentHasChanges","resumeDependents","mAggregatedQueryOptions","bAggregatedQueryOptionsInitial","setParameter","sParameterName","vOldValue","informAll"],"sources":["ODataContextBinding-dbg.js"],"mappings":"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"}