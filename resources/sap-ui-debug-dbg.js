//@ui5-bundle sap-ui-debug.js
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/debug/ControlTree",["sap/ui/base/EventProvider","sap/ui/core/Element","sap/ui/core/UIArea","./Highlighter","sap/ui/dom/getOwnerWindow","sap/base/Log"],function(e,t,i,s,r,o){"use strict";var n=e.extend("sap.ui.debug.ControlTree",{constructor:function(t,i,r,o){e.apply(this,arguments);this.oWindow=i;this.oDocument=i.document;this.oCore=t;this.oSelectedNode=null;this.oParentDomRef=r;this.oSelectionHighlighter=new s("sap-ui-testsuite-SelectionHighlighter");this.oHoverHighlighter=new s("sap-ui-testsuite-HoverHighlighter",true,"#c8f",1);this.onclick=n.prototype.onclick.bind(this);this.onmouseover=n.prototype.onmouseover.bind(this);this.onmouseout=n.prototype.onmouseout.bind(this);this.oParentDomRef.addEventListener("click",this.onclick);this.oParentDomRef.addEventListener("mouseover",this.onmouseover);this.oParentDomRef.addEventListener("mouseout",this.onmouseout);this.enableInplaceControlSelection();this.oCore.attachUIUpdated(this.renderDelayed,this);this.sSelectedNodeId="";this.sResourcePath=window.top.sap.ui.require.toUrl("")+"/";this.sTestResourcePath=this.sResourcePath+"../test-resources/";this.sSpaceUrl=this.sResourcePath+"sap/ui/debug/images/space.gif";this.sMinusUrl=this.sResourcePath+"sap/ui/debug/images/minus.gif";this.sPlusUrl=this.sResourcePath+"sap/ui/debug/images/plus.gif";this.sLinkUrl=this.sResourcePath+"sap/ui/debug/images/link.gif"}});n.M_EVENTS={SELECT:"SELECT"};n.prototype.exit=function(){document.removeEventListener("mouseover",this.selectControlInTree);this.oParentDomRef.removeEventListener("click",this.onclick);this.oParentDomRef.removeEventListener("mouseover",this.onmouseover);this.oParentDomRef.removeEventListener("mouseout",this.onmouseout)};n.prototype.renderDelayed=function(){if(this.oTimer){this.oWindow.clearTimeout(this.oTimer)}this.oTimer=this.oWindow.setTimeout(this.render.bind(this),0)};n.prototype.render=function(){var e=this.oParentDomRef;var t=null,i=this.oCore.mUIAreas;e.innerHTML="";for(var s in i){var t=i[s],r=this.createTreeNodeDomRef(t.getId(),0,"UIArea",this.sTestResourcePath+"sap/ui/core/images/controls/sap.ui.core.UIArea.gif");e.appendChild(r);var o=t.getContent();for(var s=0,n=o.length;s<n;s++){this.renderNode(e,o[s],1)}}};n.prototype.createTreeNodeDomRef=function(e,t,i,s){var r=this.oParentDomRef.ownerDocument.createElement("DIV");r.setAttribute("id","sap-debug-controltree-"+e);var o=i.substring(i.lastIndexOf(".")>-1?i.lastIndexOf(".")+1:0);r.innerHTML="<img src='"+this.sSpaceUrl+"' align='absmiddle'><img src='"+s+"' align='absmiddle'>&nbsp;<span>"+o+" - "+e+"</span>";r.firstChild.style="height:12px;width:12px;display:none;";r.firstChild.nextSibling.style="height:16px;width:16px;";r.style.overflow="hidden";r.style.whiteSpace="nowrap";r.style.textOverflow="ellipsis";r.style.paddingLeft=t*16+"px";r.style.height="20px";r.style.cursor="default";r.setAttribute("sap-type",i);r.setAttribute("sap-id",e);r.setAttribute("sap-expanded","true");r.setAttribute("sap-level",""+t);r.title=i+" - "+e;return r};n.prototype.createLinkNode=function(e,t,i,s){var r=this.oParentDomRef.ownerDocument.createElement("DIV");r.setAttribute("id","sap-debug-controltreelink-"+t);var o=s?s.substring(s.lastIndexOf(".")>-1?s.lastIndexOf(".")+1:0):"";r.innerHTML="<img src='"+this.sSpaceUrl+"' align='absmiddle'><img src='"+this.sLinkUrl+"' align='absmiddle'>&nbsp;<span>"+(o?o+" - ":"")+t+"</span>";r.firstChild.style="height:12px;width:12px;display:none;";r.firstChild.nextSibling.style="height:12px;width:12px;";r.lastChild.style="color:#888;border-bottom:1px dotted #888;";r.style.overflow="hidden";r.style.whiteSpace="nowrap";r.style.textOverflow="ellipsis";r.style.paddingLeft=i*16+"px";r.style.height="20px";r.style.cursor="default";r.setAttribute("sap-type","Link");r.setAttribute("sap-id",t);r.setAttribute("sap-expanded","true");r.setAttribute("sap-level",""+i);r.title="Association to '"+t+"'";e.appendChild(r);return r};n.prototype.renderNode=function(e,i,s){if(!i){return}var r=i.getMetadata();var o=this.sTestResourcePath+r.getLibraryName().replace(/\./g,"/")+"/images/controls/"+r.getName()+".gif";var n=this.createTreeNodeDomRef(i.getId(),s,r.getName(),o);e.appendChild(n);var a=false;if(i.mAggregations){for(var l in i.mAggregations){a=true;var h=i.mAggregations[l];if(h&&h.length){for(var d=0;d<h.length;d++){var p=h[d];if(p instanceof t){this.renderNode(e,h[d],s+1)}}}else if(h instanceof t){this.renderNode(e,h,s+1)}}}if(i.mAssociations){for(var l in i.mAssociations){a=true;var u=i.mAssociations[l];if(Array.isArray(u)){for(var d=0;d<u.length;d++){var p=u[d];if(typeof p==="string"){this.createLinkNode(e,p,s+1)}}}else if(typeof u==="string"){this.createLinkNode(e,u,s+1)}}}if(a){var g=n.getElementsByTagName("IMG")[0];g.src=this.sMinusUrl;g.style.display=""}};n.prototype.onclick=function(e){var i=e.target;if(i.tagName=="IMG"){var s=i.parentNode,r=parseInt(s.getAttribute("sap-level")),o=s.nextSibling,n=s.getAttribute("sap-expanded")=="true";i=s.firstChild;if(o){var a=parseInt(o.getAttribute("sap-level"));while(o&&a>r){var l=o.getElementsByTagName("IMG")[0];if(n){o.style.display="none";o.setAttribute("sap-expanded","false");if(l&&l.src!==this.sSpaceUrl){l.src=this.sPlusUrl}}else{o.style.display="block";o.setAttribute("sap-expanded","true");if(l&&l.src!==this.sSpaceUrl){l.src=this.sMinusUrl}}o=o.nextSibling;if(o){a=parseInt(o.getAttribute("sap-level"))}}}if(n){i.src=this.sPlusUrl;s.setAttribute("sap-expanded","false")}else{i.src=this.sMinusUrl;s.setAttribute("sap-expanded","true")}}else{if(i.tagName!="SPAN"){i=i.getElementsByTagName("SPAN")[0]}var s=i.parentNode,h=s.getAttribute("sap-id"),d=this.oCore.byId(h),p=s.getAttribute("sap-type")==="Link"?"sap-debug-controltree-"+h:s.id;this.oSelectionHighlighter.hide();if(d instanceof t){this.oSelectionHighlighter.highlight(d.getDomRef());this.oHoverHighlighter.hide()}this.deselectNode(this.sSelectedNodeId);this.selectNode(p)}};n.prototype.onmouseover=function(e){var t=e.target;if(t.tagName=="SPAN"){this.oHoverHighlighter.highlight(this.getTargetDomRef(t.parentNode))}};n.prototype.onmouseout=function(e){var t=e.target;if(t.tagName=="SPAN"){if(this.getTargetDomRef(t.parentNode)){this.oHoverHighlighter.hide()}}};n.prototype.selectNode=function(e){if(!e){return}var t=(r(this.oParentDomRef)||window).document.getElementById(e);if(!t){o.warning("Control with Id '"+e.substring(22)+"' not found in tree");return}var i=t.getAttribute("sap-id");var s=t.getElementsByTagName("SPAN")[0];s.style.backgroundColor="#000066";s.style.color="#FFFFFF";this.sSelectedNodeId=e;this.fireEvent(n.M_EVENTS.SELECT,{id:e,controlId:i})};n.prototype.deselectNode=function(e){if(!e){return}var t=(r(this.oParentDomRef)||window).document.getElementById(e);var i=t.getElementsByTagName("SPAN")[0];i.style.backgroundColor="transparent";i.style.color="#000000";this.sSelectedNodeId=e};n.prototype.getTargetDomRef=function(e){var s=e.getAttribute("sap-type"),r=e.getAttribute("sap-id"),o=s==="UIArea"?this.oCore.getUIArea(r):this.oCore.byId(r);while(o instanceof t){var n=o.getDomRef();if(n){return n}o=o.getParent()}if(o instanceof i){return o.getRootNode()}};n.prototype.enableInplaceControlSelection=function(){this.selectControlInTree=n.prototype.selectControlInTree.bind(this);document.addEventListener("mouseover",this.selectControlInTree)};n.prototype.selectControlInTree=function(e){if(e){if(e.ctrlKey&&e.shiftKey&&!e.altKey){var t=e.srcElement||e.target;while(t&&(!t.id||!this.oCore.byId(t.id))){t=t.parentNode}if(t&&t.id&&this.oCore.byId(t.id)){this.oHoverHighlighter.highlight(t)}else{this.oHoverHighlighter.hide()}}else{this.oHoverHighlighter.hide()}}};return n});
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/debug/DebugEnv",["sap/ui/base/Interface","./ControlTree","./LogViewer","./PropertyList","sap/base/Log","sap/ui/thirdparty/jquery"],function(t,e,o,i,r,s){"use strict";var n=function(){};n.prototype.startPlugin=function(t,e){this.oCore=t;this.oWindow=window;try{this.bRunsEmbedded=typeof window.top.testfwk==="undefined";r.info("Starting DebugEnv plugin ("+(this.bRunsEmbedded?"embedded":"testsuite")+")");if(!this.bRunsEmbedded||t.getConfiguration().getInspect()){this.init(e)}if(!this.bRunsEmbedded||t.getConfiguration().getTrace()){this.initLogger(r,e)}}catch(t){r.warning("DebugEnv plugin can not be started outside the Testsuite.")}};n.prototype.stopPlugin=function(){r.info("Stopping DebugEnv plugin.");this.oCore=null};n.prototype.init=function(t){this.oControlTreeWindow=this.bRunsEmbedded?this.oWindow:top.document.getElementById("sap-ui-ControlTreeWindow")||top.frames["sap-ui-ControlTreeWindow"]||top;this.oPropertyListWindow=this.bRunsEmbedded?this.oWindow:top.document.getElementById("sap-ui-PropertyListWindow")||top.frames["sap-ui-PropertyListWindow"]||top;var o=sap.ui.getCore().getConfiguration().getRTL();var r=(this.oControlTreeWindow.document||this.oControlTreeWindow).querySelector("#sap-ui-ControlTreeRoot"),s=(this.oPropertyListWindow.document||this.oPropertyListWindow).querySelector("#sap-ui-PropertyWindowRoot");if(!r){r=this.oControlTreeWindow.document.createElement("DIV");r.setAttribute("id","sap-ui-ControlTreeRoot");r.setAttribute("tabindex",-1);r.style.position="absolute";r.style.fontFamily="Arial";r.style.fontSize="8pt";r.style.backgroundColor="white";r.style.color="black";r.style.border="1px solid gray";r.style.overflow="auto";r.style.zIndex="999999";r.style.top="1px";if(o){r.style.left="1px"}else{r.style.right="1px"}r.style.height="49%";r.style.width="200px";this.oControlTreeWindow.document.body.appendChild(r)}else{r.innerHTML=""}this.oControlTreeRoot=r;if(!s){s=this.oPropertyListWindow.document.createElement("DIV");s.setAttribute("id","sap-ui-PropertyWindowRoot");s.setAttribute("tabindex",-1);s.style.position="absolute";s.style.fontFamily="Arial";s.style.fontSize="8pt";s.style.backgroundColor="white";s.style.color="black";s.style.border="1px solid gray";s.style.overflow="auto";s.style.zIndex="99999";s.style.width="196px";s.style.height="49%";if(o){s.style.left="1px"}else{s.style.right="1px"}s.style.bottom="1px";this.oPropertyListWindow.document.body.appendChild(s)}else{s.innerHTML=""}this.oPropertyWindowRoot=s;this.oControlTree=new e(this.oCore,this.oWindow,r,this.bRunsEmbedded);this.oPropertyList=new i(this.oCore,this.oWindow,s);this.oControlTree.attachEvent(e.M_EVENTS.SELECT,this.oPropertyList.update,this.oPropertyList);if(!t){this.oControlTree.renderDelayed()}window.addEventListener("unload",function(t){this.oControlTree.exit();this.oPropertyList.exit()}.bind(this))};n.prototype.initLogger=function(t,e){this.oLogger=t;this.oLogger.setLogEntriesLimit(Infinity);if(!this.bRunsEmbedded){this.oTraceWindow=top.document.getElementById("sap-ui-TraceWindow");if(this.oTraceWindow){this.oTraceViewer=top.oLogViewer=new o(this.oTraceWindow,"sap-ui-TraceWindowRoot")}else{this.oTraceWindow=top.frames["sap-ui-TraceWindow"];this.oTraceViewer=this.oTraceWindow.oLogViewer=new o(this.oTraceWindow,"sap-ui-TraceWindowRoot")}this.oTraceViewer.sLogEntryClassPrefix="lvl";this.oTraceViewer.lock()}else{this.oTraceWindow=this.oWindow;this.oTraceViewer=new o(this.oTraceWindow,"sap-ui-TraceWindowRoot")}this.oLogger.addLogListener(this.oTraceViewer);this.oCore.attachUIUpdated(this.enableLogViewer,this);if(!e){var i=this;this.oTimer=setTimeout(function(){i.enableLogViewer()},0)}};n.prototype.enableLogViewer=function(){if(this.oTimer){clearTimeout(this.oTimer);this.oTimer=undefined}this.oCore.detachUIUpdated(this.enableLogViewer,this);if(this.oTraceViewer){this.oTraceViewer.unlock()}};n.prototype.isRunningEmbedded=function(){return this.bRunsEmbedded};n.prototype.isControlTreeShown=function(){return s(this.oControlTreeRoot).css("visibility")==="visible"||s(this.oControlTreeRoot).css("visibility")==="inherit"};n.prototype.showControlTree=function(){if(!this.oControlTreeRoot){this.init(false)}s(this.oControlTreeRoot).css("visibility","visible")};n.prototype.hideControlTree=function(){s(this.oControlTreeRoot).css("visibility","hidden")};n.prototype.isTraceWindowShown=function(){var t=this.oTraceWindow&&this.oTraceWindow.document.getElementById("sap-ui-TraceWindowRoot");return t&&(s(t).css("visibility")==="visible"||s(t).css("visibility")==="inherit")};n.prototype.showTraceWindow=function(){if(!this.oTraceWindow){this.initLogger(r,false)}var t=this.oTraceWindow&&this.oTraceWindow.document.getElementById("sap-ui-TraceWindowRoot");if(t){s(t).css("visibility","visible")}};n.prototype.hideTraceWindow=function(){var t=this.oTraceWindow&&this.oTraceWindow.document.getElementById("sap-ui-TraceWindowRoot");if(t){s(t).css("visibility","hidden")}};n.prototype.isPropertyListShown=function(){return s(this.oPropertyWindowRoot).css("visibility")==="visible"||s(this.oPropertyWindowRoot).css("visibility")==="inherit"};n.prototype.showPropertyList=function(){if(!this.oPropertyWindowRoot){this.init(false)}s(this.oPropertyWindowRoot).css("visibility","visible")};n.prototype.hidePropertyList=function(){s(this.oPropertyWindowRoot).css("visibility","hidden")};(function(){var e=new n;sap.ui.getCore().registerPlugin(e);var o=new t(e,["isRunningEmbedded","isControlTreeShown","showControlTree","hideControlTree","isTraceWindowShown","showTraceWindow","hideTraceWindow","isPropertyListShown","showPropertyList","hidePropertyList"]);n.getInstance=function(){return o}})();return n},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/debug/Highlighter",["sap/ui/thirdparty/jquery","sap/base/util/uid","sap/ui/dom/jquery/rect"],function(t,e){"use strict";var i=function(t,i,s,d){this.sId=t||e();this.bFilled=i==true;this.sColor=s||"blue";if(isNaN(d)){this.iBorderWidth=2}else if(d<=0){this.iBorderWidth=0}else{this.iBorderWidth=d}};i.prototype.highlight=function(e){if(!e||!e.parentNode){return}var i=this.sId?window.document.getElementById(this.sId):null;if(!i){i=e.ownerDocument.createElement("div");i.setAttribute("id",this.sId);i.style.position="absolute";i.style.border=this.iBorderWidth+"px solid "+this.sColor;i.style.display="none";i.style.margin="0px";i.style.padding="0px";if(this.bFilled){var s=e.ownerDocument.createElement("div");s.textContent=" ";s.style.backgroundColor=this.sColor;s.style.opacity="0.2";s.style.height="100%";s.style.width="100%";i.appendChild(s)}e.ownerDocument.body.appendChild(i)}var d=t(e).rect();i.style.top=d.top-this.iBorderWidth+"px";i.style.left=d.left-this.iBorderWidth+"px";i.style.width=d.width+"px";i.style.height=d.height+"px";i.style.display="block"};i.prototype.hide=function(){var t=this.sId?window.document.getElementById(this.sId):null;if(!t){return}t.style.display="none"};return i},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/debug/LogViewer",function(){"use strict";var t=function(e,o){this.oWindow=e;this.oDomNode=e.querySelector("#"+o);if(!this.oDomNode){var i=this.oWindow.document.createElement("DIV");i.setAttribute("id",o);i.style.overflow="auto";i.style.tabIndex="-1";i.style.position="absolute";i.style.bottom="0px";i.style.left="0px";i.style.right="202px";i.style.height="200px";i.style.border="1px solid gray";i.style.fontFamily="Arial monospaced for SAP,monospace";i.style.fontSize="11px";i.style.zIndex="999999";this.oWindow.document.body.appendChild(i);this.oDomNode=i}this.iLogLevel=3;this.sLogEntryClassPrefix=undefined;this.clear();this.setFilter(t.NO_FILTER)};t.NO_FILTER=function(t){return true};t.prototype.clear=function(){this.oDomNode.innerHTML=""};t.xmlEscape=function(t){t=t.replace(/\&/g,"&amp;");t=t.replace(/\</g,"&lt;");t=t.replace(/\"/g,"&quot;");return t};t.prototype.addEntry=function(e){var o=this.oWindow.ownerDocument.createElement("div");if(this.sLogEntryClassPrefix){o.className=this.sLogEntryClassPrefix+e.level}else{o.style.overflow="hidden";o.style.textOverflow="ellipsis";o.style.height="1.3em";o.style.width="100%";o.style.whiteSpace="noWrap"}var i=t.xmlEscape(e.time+"  "+e.message),s=this.oWindow.ownerDocument.createTextNode(i);o.appendChild(s);o.title=e.message;o.style.display=this.oFilter(i)?"":"none";this.oDomNode.appendChild(o);return o};t.prototype.fillFromLogger=function(t){this.clear();this.iFirstEntry=t;if(!this.oLogger){return}var e=this.oLogger.getLogEntries();for(var o=this.iFirstEntry,i=e.length;o<i;o++){if(e[o].level<=this.iLogLevel){this.addEntry(e[o])}}this.scrollToBottom()};t.prototype.scrollToBottom=function(){this.oDomNode.scrollTop=this.oDomNode.scrollHeight};t.prototype.truncate=function(){this.clear();this.fillFromLogger(this.oLogger.getLogEntries().length)};t.prototype.setFilter=function(e){this.oFilter=e=e||t.NO_FILTER;var o=this.oDomNode.childNodes;for(var i=0,s=o.length;i<s;i++){var r=o[i].innerText;if(!r){r=o[i].innerHTML}o[i].style.display=e(r)?"":"none"}this.scrollToBottom()};t.prototype.setLogLevel=function(t){this.iLogLevel=t;if(this.oLogger){this.oLogger.setLevel(t)}this.fillFromLogger(this.iFirstEntry)};t.prototype.lock=function(){this.bLocked=true};t.prototype.unlock=function(){this.bLocked=false;this.fillFromLogger(0)};t.prototype.onAttachToLog=function(t){this.oLogger=t;this.oLogger.setLevel(this.iLogLevel);if(!this.bLocked){this.fillFromLogger(0)}};t.prototype.onDetachFromLog=function(t){this.oLogger=undefined;this.fillFromLogger(0)};t.prototype.onLogEntry=function(t){if(!this.bLocked){var e=this.addEntry(t);if(e&&e.style.display!=="none"){this.scrollToBottom()}}};return t},true);
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine("sap/ui/debug/PropertyList",["sap/ui/base/DataType","sap/ui/base/EventProvider","sap/ui/core/Element","sap/ui/core/ElementMetadata","sap/base/util/isEmptyObject","sap/base/security/encodeXML","sap/ui/thirdparty/jquery","sap/ui/dom/jquery/rect"],function(e,t,i,s,o,n,r){"use strict";var a=t.extend("sap.ui.debug.PropertyList",{constructor:function(e,i,s){t.apply(this,arguments);this.oWindow=i;this.oParentDomRef=s;this.oCore=e;this.bEmbedded=window.top===i;var o=window.top.document.createElement("link");o.rel="stylesheet";o.href=window.top.sap.ui.require.toUrl("sap/ui/debug/PropertyList.css");window.top.document.head.appendChild(o);this.onchange=a.prototype.onchange.bind(this);s.addEventListener("change",this.onchange);this.onfocus=a.prototype.onfocus.bind(this);s.addEventListener("focusin",this.onfocus);this.onkeydown=a.prototype.onkeydown.bind(this);s.addEventListener("keydown",this.onkeydown);if(!this.bEmbedded){this.onmouseover=a.prototype.onmouseover.bind(this);s.addEventListener("mouseover",this.onmouseover);this.onmouseout=a.prototype.onmouseout.bind(this);s.addEventListener("mouseout",this.onmouseout)}}});a.prototype.exit=function(){this.oParentDomRef.removeEventListener("change",this.onchange);this.oParentDomRef.removeEventListener("focusin",this.onfocus);this.oParentDomRef.removeEventListener("keydown",this.onkeydown);if(!this.bEmbedded){this.oParentDomRef.removeEventListener("mouseover",this.onmouseover);this.oParentDomRef.removeEventListener("mouseout",this.onmouseout)}};a.prototype.update=function(e){var t=this.sControlId=e.getParameter("controlId");this.oParentDomRef.innerHTML="";var i=this.oCore.byId(t);if(!i){this.oParentDomRef.innerHTML="Please select a valid control";return}var n=i.getMetadata(),r=[];r.push("<span data-sap-ui-quickhelp='"+this._calcHelpId(n)+"'>Type : "+n.getName()+"</span><br >");r.push("Id : "+i.getId()+"<br >");if(!this.bEmbedded){r.push("<div id='sap-ui-quickhelp' class='sapDbgQH'>Help</div>")}r.push("<div class='sapDbgSeparator'>&nbsp;</div>");r.push("<table class='sapDbgPropertyList' cellspacing='1'><tbody>");while(n instanceof s){var a=this.getPropertyLikeSettings(n);if(!o(a)){if(n!==i.getMetadata()){r.push("<tr><td class='sapDbgPLSubheader' colspan=\"2\">BaseType: ");r.push(n.getName());r.push("</td></tr>")}this.renderSettings(r,i,a)}n=n.getParent()}r.push("</tbody></table>");this.oParentDomRef.innerHTML=r.join("");this.mHelpDocs={}};a.prototype.getPropertyLikeSettings=function(t){var i={};Object.values(t.getProperties()).forEach(function(e){i[e.name]=e});Object.values(t.getAggregations()).forEach(function(t){if(t.multiple===false&&t.altTypes&&t.altTypes.length&&e.getType(t.altTypes[0])!=null){i[t.name]=t}});return i};a.prototype.renderSettings=function(t,s,o){Object.values(o).forEach(function(o){var r=o.name,a=o.get(s),p=o.multiple===false?e.getType(o.altTypes[0]):o.getType();t.push("<tr><td>");t.push("<span data-sap-ui-quickhelp='",this._calcHelpId(o._oParent,r),"' >",r,"</span>");t.push("</td><td>");var u="";if(p.getPrimitiveType().getName()==="boolean"){t.push("<input type='checkbox' data-name='"+r+"' ");if(a==true){t.push("checked='checked'")}t.push(">")}else if(p.isEnumType()){var l=p.getEnumValues();t.push("<select data-name='"+r+"'>");for(var d in l){t.push("<option ");if(d===a){t.push(" selected ")}t.push("value='"+n(d)+"'>");t.push(n(d));t.push("</option>")}t.push("</select>")}else{var c="";if(a===null){c="class='sapDbgComplexValue'";a="(null)"}else if(a instanceof i){c="class='sapDbgComplexValue'";if(Array.isArray(a)){a=a.join(", ")}else{a=String(a)}u=' title="This aggregation currently references an Element. You can set a '+p.getName()+' value instead"'}t.push("<input type='text' "+c+" value='"+n(""+a)+"'"+u+" data-name='"+r+"'>")}t.push("</td></tr>")}.bind(this))};a.prototype.onkeydown=function(e){var t=e.target;if(e.keyCode==13&&t.tagName==="INPUT"&&t.type==="text"){this.applyChange(t)}};a.prototype.onchange=function(e){var t=e.target;if(t.tagName==="SELECT"||t.tagName==="INPUT"){this.applyChange(t)}};a.prototype.onfocus=function(e){var t=e.target;if(t.tagName==="INPUT"&&t.dataset.name){if(t.style.color==="#a5a5a5"){t.style.color="";t.value=""}}};a.prototype.applyChange=function(t){var i=this.oCore.byId(this.sControlId),s=t.dataset.name,o=i.getMetadata().getPropertyLikeSetting(s);if(o){var n=t.type==="checkbox"?String(t.checked):t.value,r=o.multiple!=null?e.getType(o.altTypes[0]):o.getType();if(r){var a=r.parseValue(n);if(r.isValid(a)&&a!=="(null)"){o.set(i,a);t.classList.remove("sapDbgComplexValue")}}}};a.prototype.showQuickHelp=function(e){if(this.oQuickHelpTimer){clearTimeout(this.oQuickHelpTimer);this.oQuickHelpTimer=undefined}var t=this.oParentDomRef.ownerDocument.getElementById("sap-ui-quickhelp");if(t){this.sCurrentHelpId=e.getAttribute("data-sap-ui-quickhelp");var i=r(e).rect();t.style.left=i.left+40+10+"px";t.style.top=i.top-40+"px";t.style.display="block";t.style.opacity="0.2";if(this.mHelpDocs[this.sCurrentHelpId]){this.updateQuickHelp(this.mHelpDocs[this.sCurrentHelpId],2e3)}else{t.innerHTML="<b>Quickhelp</b> for "+this.sCurrentHelpId+" is being retrieved...";this.sCurrentHelpDoc=this.sCurrentHelpId;this.sCurrentHelpDocPart=undefined;if(this.sCurrentHelpId.indexOf("#")>=0){this.sCurrentHelpDoc=this.sCurrentHelpId.substring(0,this.sCurrentHelpId.indexOf("#"));this.sCurrentHelpDocPart=this.sCurrentHelpId.substring(this.sCurrentHelpId.indexOf("#")+1)}var s=this.oWindow.jQuery.sap.getModulePath(this.sCurrentHelpDoc,".control");var o=this;r.ajax({url:s,dataType:"xml",error:function(e,t){o.receiveQuickHelp(undefined)},success:function(e){o.receiveQuickHelp(e)}});this.oQuickHelpTimer=setTimeout(function(){o.hideQuickHelp()},2e3)}}};a.prototype.receiveQuickHelp=function(e){if(e){var t=e.getElementsByTagName("control")[0];if(t){var i=function(e,t){var i=[];var s=e.firstChild;while(s){if(t===s.nodeName){i.push(s)}s=s.nextSibling}return i};var s=i(t,"name");var o="";if(s[0]){o=s[0].text||s[0].textContent}var n=i(t,"documentation");if(n[0]){if(o&&n[0]){var r=[];r.push("<div class='sapDbgQHClassTitle'>",o.replace("/","."),"</div>");r.push("<div class='sapDbgQHDocPadding'>",n[0].text||n[0].textContent,"</div>");this.mHelpDocs[this.sCurrentHelpDoc]=r.join("")}}var a=i(t,"properties");if(a[0]){a=i(a[0],"property")}for(var p=0,u=a.length;p<u;p++){var l=a[p];var o=l.getAttribute("name");var d=l.getAttribute("type")||"string";var c=l.getAttribute("defaultValue")||"empty/undefined";var n=i(l,"documentation");if(o&&n[0]){var r=[];r.push("<div class='sapDbgQHSettingDoc'>",o,"</div>");r.push("<div class='sapDbgQHDocPadding'><i><strong>Type</strong></i>: ",d,"</div>");r.push("<div class='sapDbgQHDocPadding'>",n[0].text||n[0].textContent,"</div>");r.push("<div class='sapDbgQHDocPadding'><i><strong>Default Value</strong></i>: ",c,"</div>");this.mHelpDocs[this.sCurrentHelpDoc+"#"+o]=r.join("")}}var a=i(t,"aggregations");if(a[0]){a=i(a[0],"aggregation")}for(var p=0,u=a.length;p<u;p++){var l=a[p];var o=l.getAttribute("name");var d=l.getAttribute("type")||"sap.ui.core/Control";var c=l.getAttribute("defaultValue")||"empty/undefined";var n=i(l,"documentation");if(o&&n[0]&&!this.mHelpDocs[this.sCurrentHelpDoc+"#"+o]){var r=[];r.push("<div class='sapDbgQHSettingTitle'>",o,"</div>");r.push("<div class='sapDbgQHDocPadding'><i><strong>Type</strong></i>: ",d,"</div>");r.push("<div class='sapDbgQHDocPadding'>",n[0].text||n[0].textContent,"</div>");r.push("<div class='sapDbgQHDocPadding'><i><strong>Default Value</strong></i>: ",c,"</div>");this.mHelpDocs[this.sCurrentHelpDoc+"#"+o]=r.join("")}}}if(this.mHelpDocs[this.sCurrentHelpId]){this.updateQuickHelp(this.mHelpDocs[this.sCurrentHelpId],2e3)}else{this.updateQuickHelp(undefined,0)}}else{this.updateQuickHelp(undefined,0)}};a.prototype.updateQuickHelp=function(e,t){if(this.oQuickHelpTimer){clearTimeout(this.oQuickHelpTimer);this.oQuickHelpTimer=undefined}var i=this.oParentDomRef.ownerDocument.getElementById("sap-ui-quickhelp");if(i){if(!e){i.innerHTML="<i>No quick help...</i>";i.style.display="none"}else{i.innerHTML=e;this.oQuickHelpTimer=setTimeout(function(){this.hideQuickHelp()}.bind(this),t)}}};a.prototype.hideQuickHelp=function(){var e=this.oParentDomRef.ownerDocument.getElementById("sap-ui-quickhelp");if(e){e.style.display="none"}this.bMovedOverTooltip=false};a.prototype._calcHelpId=function(e,t){var i=e.getName();if(t){i=i+"#"+t}return i};a.prototype._isChildOfQuickHelp=function(e){while(e){if(e.id==="sap-ui-quickhelp"){return true}e=e.parentNode}return false};a.prototype.onmouseover=function(e){var t=e.target;if(this._isChildOfQuickHelp(t)){if(this.oQuickHelpTimer){clearTimeout(this.oQuickHelpTimer);this.oQuickHelpTimer=undefined}this.bMovedOverTooltip=true;var i=this.oParentDomRef.ownerDocument.getElementById("sap-ui-quickhelp");if(i){i.style.opacity=""}}else if(t.getAttribute("data-sap-ui-quickhelp")){this.showQuickHelp(t)}};a.prototype.onmouseout=function(e){var t=e.target;if(this._isChildOfQuickHelp(t)){if(this.oQuickHelpTimer){clearTimeout(this.oQuickHelpTimer);this.oQuickHelpTimer=undefined}this.bMovedOverTooltip=false;this.oQuickHelpTimer=setTimeout(function(){this.hideQuickHelp()}.bind(this),50)}else if(t.getAttribute("data-sap-ui-quickhelp")){if(this.oQuickHelpTimer){clearTimeout(this.oQuickHelpTimer);this.oQuickHelpTimer=undefined}if(!this.bMovedOverTooltip){this.oQuickHelpTimer=setTimeout(function(){this.hideQuickHelp()}.bind(this),800)}}};return a});
sap.ui.requireSync("sap/ui/debug/DebugEnv");
