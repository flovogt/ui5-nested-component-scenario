sap.ui.define(["my/lib/sample/base/BaseController","sap/base/Log"],(e,t)=>{"use strict";return e.extend("my.lib.sample.products.controller.Detail",{onInit(...t){e.prototype.onInit.apply(this,t);this.getOwnerComponent().getRouter().getRoute("detailRoute").attachPatternMatched(this._onMatched,this)},_onMatched(e){t.info(this.getView().getControllerName(),"_onMatched");const o=e.getParameter("arguments");this.getOwnerComponent().getModel().metadataLoaded().then(this._bindData.bind(this,o.id))},_bindData(e){t.info(this.getView().getControllerName(),"_bindData");const o=this.getOwnerComponent().getModel().createKey("Products",{ProductID:e}),n=this;this.getView().bindElement({path:"/"+o,parameters:{expand:"Supplier,Category"},events:{change(){t.info(n.getView().getControllerName(),"_bindData change");n.getView().setBusy(false)},dataRequested(){t.info(n.getView().getControllerName(),"_bindData dataRequested");n.getView().setBusy(true)},dataReceived(){t.info(n.getView().getControllerName(),"_bindData dataReceived");n.getView().setBusy(false);if(n.getView().getBindingContext()===null){n.getOwnerComponent().getRouter().getTargets().display("notFound")}}}})},onPressSupplier(e){t.info(this.getView().getControllerName(),`onPressSupplier ${e.getSource().getBindingContext().getObject().SupplierID}`);const o=this.getOwnerComponent(),n=o.getModel(),i=e.getSource().getBindingContext(),r=i.getProperty("SupplierID");o.fireEvent("toSupplier",{supplierID:r,supplierKey:encodeURIComponent(`/${n.createKey("Suppliers",{SupplierID:r})}`)})},onPressCategory(e){t.info(this.getView().getControllerName(),`onPressCategory ${e.getSource().getBindingContext().getObject().CategoryID}`);const o=this.getOwnerComponent(),n=o.getModel(),i=e.getSource().getBindingContext(),r=i.getProperty("CategoryID");o.fireEvent("toCategory",{categoryID:r,categoryKey:encodeURIComponent(`/${n.createKey("Categories",{CategoryID:r})}`)})}})});
//# sourceMappingURL=Detail.controller.js.map