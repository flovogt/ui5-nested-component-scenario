{"version":3,"file":"CellSelector.js","names":["sap","ui","define","PluginBase","KeyCodes","Core","Element","Log","SELECTION_DIRECTION","NEXT","PREVIOUS","MOUSE_POSITION","ABOVE","RIGHT","BELOW","LEFT","IN","CSS_CLASS","CellSelector","extend","metadata","library","properties","rangeLimit","type","group","defaultValue","events","prototype","onActivate","oControl","addDelegate","this","_oSession","oCanvas","oEdge","oBorderLine","sScrollEvent","getConfig","attachEvent","_handleScroll","_fnMouseupHandler","_onmouseup","bind","document","addEventListener","oContainerRef","getControl","getDomRef","_fnMouseleaveHandler","_onMouseLeave","onDeactivate","removeDelegate","detachEvent","removeEventListener","onAfterRendering","getSelectionRange","_bSelecting","mSelectionRange","getNormalizedBounds","mSource","mTarget","isNaN","from","rowIndex","to","iMaxColumnIndex","length","colIndex","Math","max","min","getSelectedRowContexts","getRangeLimit","onsapspace","oEvent","isMarked","error","oTarget","target","oCellInfo","mStart","_selectCells","info","focus","preventDefault","setMarked","onsapnext","onsapprevious","clearSelection","onsaphome","onsapend","onsapnextmodifiers","_selectNextCell","onsappreviousmodifiers","valueOf","bIsPrevious","iDirectionIndex","shiftKey","_isInSelectionArea","oFocusCellInfo","mFrom","Object","assign","mTo","sKeyCode","ARROW_UP","ARROW_DOWN","iDirection","sType","keyCode","direction","onsapspacemodifiers","Infinity","boundaryChange","ctrlKey","metaKey","onsaphomemodifiers","onsapendmodifiers","onkeydown","isKeyCombination","A","ontouchstart","oCellRef","_getSelectableCell","_bMouseDown","_bByEdge","ontouchmove","oTouchPosition","_getMousePosition","clientX","clientY","x","y","_bScrollSelecting","oTargetRef","oTargetInfo","oBounds","_oEdgeInfo","isActive","moveStart","edgePosition","_oBorderMoveInfo","sDirection","bMoveStart","oMousePosition","_onScrollSelect","Promise","resolve","reject","setTimeout","dispatchEvent","WheelEvent","deltaX","deltaMode","window","DOM_DELTA_LINE","deltaY","then","_onHandleMove","sFacing","bBorder","oDomRef","closest","oFocusInfo","bInArea","oNormalizedBounds","aRows","getRows","getIndex","oOptions","aCells","_savePreviousSelectionAreas","_eraseSelection","mBounds","oSelection","mDrawableBounds","_getDrawableBounds","oBorderOptions","_getBorderOptions","cells","_drawSelection","mRange","top","bottom","aSelectionAreas","forEach","oArea","iIndex","oTableDomRef","container","oFromDomRef","oToDomRef","mFromRect","mToRect","oTableRect","oStyle","getBoundingClientRect","mOffsetLeft","hasOffset","left","width","right","height","noBorderTop","noBorderBottom","noBorderRight","noBorderLeft","_drawSelectionArea","_drawEdgeHandle","_drawBorderLine","oTargetStyle","sContainer","createElement","className","isConnected","append","style","display","borderTop","borderBottom","borderRight","borderLeft","wrapper","classList","add","values","oBorder","oEdgePart","entries","aEntries","previousSelection","parseFloat","iX","iY","oPosition","oContainerRect","bShift","bCtrl","setConfigs","scrollContainer","selectableCells","scrollEvent","oPlugin","sEvent","oSelectionPlugin","getPlugins","isA","getVisibleColumns","oTable","getColumns","filter","oColumn","isSelectionEnabled","getSelectionBehavior","getSelectionMode","getCellRef","mPosition","oRow","_getRowByIndex","oCell","getCells","$","getCellInfo","getVisibleRange","getSelectionAreas","aAreas","iFixedColumnCount","getFixedColumnCount","iToCol","mFixedFrom","mFixedTo","push","selectCells","mSelectionBounds","iBindingLength","getBinding","getLength","_focusCell","iRow","iCol","borderOptions","oCellDomRef","closestTo","indexOf","byId","getAttribute","loadContexts","iStartIndex","iLength","oBinding","getContexts","rowContexts","iFromIndex","iToIndex","iLimit","iMaxIndex","getAllCurrentContexts","aContexts","i","getContextByIndex","columnByIndex","iColIndex","getVisible","isNavigatableCell","_scrollRow","iFirstRow","getFirstVisibleRow","getFixedRowCount","setFirstVisibleRow","iRowIndex","aItems"],"sources":["CellSelector-dbg.js"],"mappings":"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"}