/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./PluginBase","sap/ui/events/KeyCodes","sap/ui/core/Core","sap/ui/core/Element","sap/base/Log"],function(e,t,o,n,i){"use strict";var s={NEXT:1,PREVIOUS:2};var r={ABOVE:0,RIGHT:1,BELOW:2,LEFT:3,IN:4};var l="sapMPluginsCellSelector";var a=e.extend("sap.m.plugins.CellSelector",{metadata:{library:"sap.m",properties:{rangeLimit:{type:"int",group:"Behavior",defaultValue:200}},events:{}}});a.prototype.onActivate=function(e){e.addDelegate(this,true,this);this._oSession={};this._oSession.oCanvas={};this._oSession.oEdge={};this._oSession.oBorderLine={};var t=this.getConfig("scrollEvent");t&&e.attachEvent(t,this._handleScroll,this);this._fnMouseupHandler=this._onmouseup.bind(this);document.addEventListener("mouseup",this._fnMouseupHandler);var o=this.getControl().getDomRef(this.getConfig("scrollContainer"));if(o){this._fnMouseleaveHandler=this._onMouseLeave.bind(this);o.addEventListener("mouseleave",this._fnMouseleaveHandler)}};a.prototype.onDeactivate=function(e){e.removeDelegate(this,this);this._oSession={};this._oSession.oCanvas={};this._oSession.oEdge={};this._oSession.oBorderLine={};var t=this.getConfig("scrollEvent");t&&e.detachEvent(t,this._handleScroll,this);document.removeEventListener("mouseup",this._fnMouseupHandler);var o=this.getControl().getDomRef(this.getConfig("scrollContainer"));if(o){o.removeEventListener("mouseleave",this._fnMouseleaveHandler)}};a.prototype.onAfterRendering=function(){this._fnMouseupHandler=this._onmouseup.bind(this);document.addEventListener("mouseup",this._fnMouseupHandler);var e=this.getControl().getDomRef(this.getConfig("scrollContainer"));if(e){this._fnMouseleaveHandler=this._onMouseLeave.bind(this);e.addEventListener("mouseleave",this._fnMouseleaveHandler)}};a.prototype.getSelectionRange=function(){if(!this._bSelecting){return null}var e=h(this._oSession.mSource,this._oSession.mTarget);if(isNaN(e.from.rowIndex)||isNaN(e.to.rowIndex)){return null}var t=this.getConfig("getVisibleColumns",this.getControl()).length-1;e.from.colIndex=Math.max(e.from.colIndex,0);e.to.colIndex=Math.min(e.to.colIndex,t);e.from.rowIndex=Math.max(e.from.rowIndex,0);return e};a.prototype.getSelectedRowContexts=function(){var e=this.getSelectionRange();if(!e){return[]}return this.getConfig("rowContexts",this.getControl(),e.from.rowIndex,e.to.rowIndex,this.getRangeLimit())};a.prototype.onsapspace=function(e){if(e.isMarked()){return}else if(!this.getConfig("isSelectionEnabled",this.getControl())){i.error("Cell selection is inactive, because preconditions are not met.");return}var t=e.target;var o=this.getConfig("getCellInfo",this.getControl(),t);if(o){this._bSelecting=true;if(this._oSession.mSource){if(this._oSession.mSource.rowIndex!==o.rowIndex||this._oSession.mSource.colIndex!==o.colIndex){this._oSession.mSource=null;this._oSession.mTarget=null}}this._oSession.mSource=o;this._oSession.mStart=o;this._selectCells(this._oSession.mSource,o,{info:{focus:o}});e.preventDefault();e.setMarked()}};a.prototype.onsapnext=a.prototype.onsapprevious=function(e){if(!this._bSelecting){return}this.clearSelection()};a.prototype.onsaphome=a.prototype.onsapend=a.prototype.onsapnext;a.prototype.onsapnextmodifiers=function(e){this._selectNextCell(e,false,1)};a.prototype.onsappreviousmodifiers=function(e){this._selectNextCell(e,true.valueOf,-1)};a.prototype._selectNextCell=function(e,o,n){if(!this._bSelecting||!e.shiftKey||e.isMarked()||!this._isInSelectionArea(e.target)){return}var i=this.getConfig("getCellInfo",this.getControl(),e.target);var r=Object.assign({},this._oSession.mSource);var l=Object.assign({},this._oSession.mTarget);var a=o?t.ARROW_UP:t.ARROW_DOWN,h=o?s.PREVIOUS:s.NEXT;var d=e.keyCode==a?"row":"col";l[d+"Index"]+=n;i[d+"Index"]+=n;if(!this.getConfig("isNavigatableCell",this.getControl(),l)){return}this._selectCells(r,l,{info:{focus:i,direction:h}});e.preventDefault();e.setMarked()};a.prototype.onsapspacemodifiers=function(e){if(!this._bSelecting||e.isMarked()){return}var t=Object.assign({},this._oSession.mTarget);var o=this.getConfig("getCellInfo",this.getControl(),e.target);if(e.shiftKey){this._oSession.mSource.colIndex=-Infinity;t.colIndex=Infinity;this._selectCells(this._oSession.mSource,t,{info:{focus:o,boundaryChange:true}})}else if(e.ctrlKey||e.metaKey){this._oSession.mSource.rowIndex=-Infinity;t.rowIndex=Infinity;this._selectCells(this._oSession.mSource,t,{info:{focus:o,boundaryChange:true}})}e.preventDefault();e.setMarked()};a.prototype.onsaphomemodifiers=function(e){if(!this._bSelecting||e.isMarked()||!e.shiftKey||!this._isInSelectionArea(e.target)){return}var t=Object.assign({},this._oSession.mTarget);t.colIndex=-Infinity;this._selectCells(this._oSession.mSource,t,{info:{focus:t,boundaryChange:true}});e.setMarked()};a.prototype.onsapendmodifiers=function(e){if(!this._bSelecting||e.isMarked()||!e.shiftKey||!this._isInSelectionArea(e.target)){return}var t=Object.assign({},this._oSession.mTarget);t.colIndex=Infinity;this._selectCells(this._oSession.mSource,t,{info:{focus:t,boundaryChange:true}});e.setMarked()};a.prototype.onkeydown=function(e){if(this._bSelecting){if(d(e,t.A,true,true)){this.clearSelection();e.preventDefault();e.setMarked()}}};a.prototype.ontouchstart=function(e){var t=this._getSelectableCell(e.target);if(e.isMarked()||!t){return}else if(!this.getConfig("isSelectionEnabled",this.getControl())){i.error("Cell selection is inactive, because preconditions are not met.");return}var o=this.getConfig("getCellInfo",this.getControl(),t);if(o){this._bSelecting=true;this._bMouseDown=true;this._bByEdge=false;if(this._oSession.mSource){if(this._oSession.mSource.rowIndex!==o.rowIndex||this._oSession.mSource.colIndex!==o.colIndex){this._oSession.mSource=null;this._oSession.mTarget=null}}this._oSession.mSource=o;this._oSession.mStart=o;this._selectCells(this._oSession.mSource,o,{info:{focus:o}});e.preventDefault()}e.setMarked()};a.prototype.ontouchmove=function(e){if(!this._bMouseDown||!this._bSelecting){return}var t=this._getMousePosition(this.getConfig("scrollContainer"),e.clientX,e.clientY);if(t.x==r.IN&&t.y==r.IN){this._bScrollSelecting=false}var o=this._getSelectableCell(e.target);if(!o){return}var n=this.getConfig("getCellInfo",this.getControl(),o);if(n){if(n.rowIndex==this._oSession.mTarget.rowIndex&&n.colIndex==this._oSession.mTarget.colIndex){return}var i=h(this._oSession.mSource,this._oSession.mTarget);if(this._oEdgeInfo&&this._oEdgeInfo.isActive&&this._oEdgeInfo.moveStart){this._oEdgeInfo.moveStart=false;if(this._oEdgeInfo.edgePosition==="NE"){this._oSession.mStart.rowIndex=i.to.rowIndex;this._oSession.mStart.colIndex=i.from.colIndex}else if(this._oEdgeInfo.edgePosition==="SE"){this._oSession.mStart=i.from}else if(this._oEdgeInfo.edgePosition==="SW"){this._oSession.mStart.rowIndex=i.from.rowIndex;this._oSession.mStart.colIndex=i.to.colIndex}else if(this._oEdgeInfo.edgePosition==="NW"){this._oSession.mStart=i.to}}else if(this._oBorderMoveInfo&&this._oBorderMoveInfo.isActive){var s=this._oBorderMoveInfo.direction,l=this._oBorderMoveInfo.moveStart;if(s==="N"){this._oSession.mStart=l?i.to:this._oSession.mStart;n.colIndex=i.from.colIndex}else if(s==="E"){this._oSession.mStart=l?i.from:this._oSession.mStart;n.rowIndex=i.to.rowIndex}else if(s==="S"){this._oSession.mStart=l?i.from:this._oSession.mStart;n.colIndex=i.to.colIndex}else if(s==="W"){this._oSession.mStart=l?i.to:this._oSession.mStart;n.rowIndex=i.from.rowIndex}this._oBorderMoveInfo.moveStart=false}var a=this._oSession.mStart,d=n;this._selectCells(a,d,{info:{focus:n}})}};a.prototype._onMouseLeave=function(e){if(this._bMouseDown&&this._bSelecting){this._bScrollSelecting=true;var t=this._getMousePosition(this.getConfig("scrollContainer"),e.clientX,e.clientY);this._onScrollSelect(t)}};a.prototype._onScrollSelect=function(e){return new Promise(function(t,o){if(!this._bScrollSelecting){t();return}setTimeout(function(){if(!this.getControl()){t();return}var o=this.getControl().getDomRef(this.getConfig("container"));if(e.x===r.LEFT){if(this._oSession.mSource.colIndex<this._oSession.mTarget.colIndex&&this._oSession.mSource.colIndex>0){this._oSession.mSource.colIndex--}else if(this._oSession.mTarget.colIndex>0){this._oSession.mTarget.colIndex--}o.dispatchEvent(new WheelEvent("wheel",{deltaX:-1,deltaMode:window.WheelEvent.DOM_DELTA_LINE}));this._selectCells(this._oSession.mSource,this._oSession.mTarget)}else if(e.x===r.RIGHT){this._oSession.mTarget.colIndex++;o.dispatchEvent(new WheelEvent("wheel",{deltaX:1,deltaMode:window.WheelEvent.DOM_DELTA_LINE}));this._selectCells(this._oSession.mSource,this._oSession.mTarget)}if(e.y===r.ABOVE){if(this._oSession.mSource.rowIndex<this._oSession.mTarget.rowIndex&&this._oSession.mSource.rowIndex>0){this._oSession.mSource.rowIndex--}else if(this._oSession.mTarget.rowIndex>0){this._oSession.mTarget.rowIndex--}o.dispatchEvent(new WheelEvent("wheel",{deltaY:-1,deltaMode:window.WheelEvent.DOM_DELTA_LINE}))}else if(e.y===r.BELOW){this._oSession.mTarget.rowIndex++;o.dispatchEvent(new WheelEvent("wheel",{deltaY:1,deltaMode:window.WheelEvent.DOM_DELTA_LINE}))}t()}.bind(this),100)}.bind(this)).then(function(){if(!this._bScrollSelecting){return}this._onScrollSelect(e)}.bind(this))};a.prototype._onHandleMove=function(e,t){if(this._oBorderMoveInfo&&this._oBorderMoveInfo.isActive){return}this._bSelecting=true;this._bMouseDown=true;if(t){this._oBorderMoveInfo={isActive:true,direction:e,moveStart:true}}else{this._oEdgeInfo={isActive:true,moveStart:true,edgePosition:e}}};a.prototype._onmouseup=function(e){this._bMouseDown=false;this._oEdgeInfo=null;this._oBorderMoveInfo=null;this._bScrollSelecting=false};a.prototype._getSelectableCell=function(e){return e&&e.closest(this.getConfig("selectableCells"))};a.prototype._isInSelectionArea=function(e){var t=this.getConfig("getCellInfo",this.getControl(),e);var o=false;if(t){var n=h(this._oSession.mSource,this._oSession.mTarget);var i=this.getControl().getRows();o=!(t.rowIndex<n.from.rowIndex||t.rowIndex>n.to.rowIndex||t.colIndex<n.from.colIndex||t.colIndex>n.to.colIndex)||t.rowIndex==i[0].getIndex()||t.rowIndex==i[i.length-1].getIndex()}return o};a.prototype._selectCells=function(e,t,o){if(!this._bSelecting){return}this._oSession.aCells=[];this._savePreviousSelectionAreas();this._eraseSelection();if(!this._oSession.mTarget){this._oSession.mTarget=t}if(!e){this._oSession.mSource=e=t}if(!o){o={}}var n=h(e,t);var i=this.getConfig("selectCells",this.getControl(),n,o);var s=this._getDrawableBounds(n);if(!s.from||!s.to){return}if(n.to.rowIndex==Infinity){this.getConfig("loadContexts",this.getControl(),n.from.rowIndex,this.getRangeLimit())}var r=this._getBorderOptions(n,s);this._oSession.aCells=i.cells;this._drawSelection(s,r);if(!o.info||o.info&&!o.info.boundaryChange){this._oSession.mSource=e;this._oSession.mTarget=t}else{this._oSession.mSource=n.from;this._oSession.mTarget=n.to}};a.prototype._getDrawableBounds=function(e){var t={from:{},to:{}};var o=this.getConfig("getVisibleRange",this.getControl(),e);if(e.to.rowIndex<o.from.rowIndex||e.from.rowIndex>o.to.rowIndex){t={}}else{t.from.rowIndex=Math.max(e.from.rowIndex,o.from.rowIndex);t.from.colIndex=Math.max(e.from.colIndex,o.from.colIndex);t.to.rowIndex=Math.min(e.to.rowIndex,o.to.rowIndex);t.to.colIndex=Math.min(e.to.colIndex,o.to.colIndex)}return t};a.prototype._getBorderOptions=function(e,t){var o={top:true,bottom:true};if(t.from.rowIndex>e.from.rowIndex){o.top=false}if(t.to.rowIndex<e.to.rowIndex){o.bottom=false}return o};a.prototype._drawSelection=function(e,t){if(!e.from||!e.to){return}var o=this.getConfig("getSelectionAreas",this.getControl(),e.from,e.to);o.forEach(function(e,n){var i=this.getControl().getDomRef(e.container),s=this.getConfig("getCellRef",this.getControl(),e.from),r=this.getConfig("getCellRef",this.getControl(),e.to);var l,a,h;var d={};if(!s||!r){return}l=s.getBoundingClientRect();a=r.getBoundingClientRect();h=i.getBoundingClientRect();var c=e.hasOffset?h.left:0;d.left=Math.min(l.left,a.left)-c;d.top=Math.min(l.top,a.top)-h.top;d.width=Math.max(a.right,l.right)-d.left-c;d.height=Math.max(a.bottom,l.bottom)-d.top-h.top;d.noBorderTop=!t.top;d.noBorderBottom=!t.bottom;d.noBorderRight=o.length>1&&n<o.length-1?true:false;d.noBorderLeft=o.length>1&&n>0?true:false;this._drawSelectionArea(d,e.container);if(!this._oSession.oEdge[e.container]){this._oSession.oEdge[e.container]={}}this._drawEdgeHandle(d,e.container,"NE");this._drawEdgeHandle(d,e.container,"SE");this._drawEdgeHandle(d,e.container,"SW");this._drawEdgeHandle(d,e.container,"NW");if(!this._oSession.oBorderLine[e.container]){this._oSession.oBorderLine[e.container]={}}this._drawBorderLine(d,e.container,"N");this._drawBorderLine(d,e.container,"E");this._drawBorderLine(d,e.container,"S");this._drawBorderLine(d,e.container,"W")}.bind(this))};a.prototype._drawSelectionArea=function(e,t){if(!this._oSession.oCanvas[t]){this._oSession.oCanvas[t]=document.createElement("div");this._oSession.oCanvas[t].className=l+"Canvas"}if(!this._oSession.oCanvas[t].isConnected){this.getControl().getDomRef(t).append(this._oSession.oCanvas[t])}var o=this._oSession.oCanvas[t].style;o.left=e.left+"px";o.top=e.top+"px";o.width=e.width+"px";o.height=e.height+"px";o.display="block";o.borderTop=e.noBorderTop?"0px":"";o.borderBottom=e.noBorderBottom?"0px":"";o.borderRight=e.noBorderRight?"0px":"";o.borderLeft=e.noBorderLeft?"0px":""};a.prototype._drawEdgeHandle=function(e,t,o){if(!this._oSession.oEdge[t][o]){this._oSession.oEdge[t][o]={};this._oSession.oEdge[t][o].wrapper=document.createElement("div");this._oSession.oEdge[t][o].wrapper.className=l+"EdgeWrapper"}if(!this._oSession.oEdge[t][o].wrapper.isConnected){this._oSession.oCanvas[t].append(this._oSession.oEdge[t][o].wrapper);this._oSession.oEdge[t][o].wrapper.addEventListener("mousedown",this._onHandleMove.bind(this,o,false))}this._oSession.oEdge[t][o].wrapper.classList.add("sapMPluginsEdge"+o)};a.prototype._drawBorderLine=function(e,t,o){if(!this._oSession.oBorderLine[t][o]){this._oSession.oBorderLine[t][o]=document.createElement("div");this._oSession.oBorderLine[t][o].className=l+"BorderLine"}if(!this._oSession.oBorderLine[t][o].isConnected){this._oSession.oCanvas[t].append(this._oSession.oBorderLine[t][o]);this._oSession.oBorderLine[t][o].addEventListener("mousedown",this._onHandleMove.bind(this,o,true))}var n=this._oSession.oBorderLine[t][o].style;this._oSession.oBorderLine[t][o].classList.add("sapMPluginsBorder"+o);if(o==="N"||o==="S"){n.width=e.width+"px"}else{n.height=e.height+"px"}n.display="block"};a.prototype.clearSelection=function(){this._bSelecting=false;this._eraseSelection();this._oSession.mSource=null;this._oSession.mTarget=null};a.prototype._eraseSelection=function(){Object.values(this._oSession.oCanvas).forEach(function(e){e.style=""});Object.values(this._oSession.oBorderLine).forEach(function(e){Object.values(e).forEach(function(e){e.style=""})});Object.values(this._oSession.oEdge).forEach(function(e){Object.values(e).forEach(function(e){Object.values(e).forEach(function(e){e.style=""})})})};a.prototype._handleScroll=function(e){if(!this._bSelecting){return}this._selectCells(this._oSession.mSource,this._oSession.mTarget)};a.prototype._savePreviousSelectionAreas=function(){Object.entries(this._oSession.oCanvas).forEach(function(e){var t=e[0],o=e[1];if(o.style.left&&o.style.top&&o.style.width&&o.style.height){if(!this._oSession.previousSelection){this._oSession.previousSelection={}}this._oSession.previousSelection[t]={top:parseFloat(o.style.top),left:parseFloat(o.style.left),width:parseFloat(o.style.width),height:parseFloat(o.style.height)}}}.bind(this))};a.prototype._getMousePosition=function(e,t,o){var n=this.getControl().getDomRef(e);var i={x:r.IN,y:r.IN};if(n){var s=n.getBoundingClientRect();if(o>s.bottom){i.y=r.BELOW}else if(o<s.top){i.y=r.ABOVE}if(t>s.right){i.x=r.RIGHT}else if(t<s.left){i.x=r.LEFT}}return i};function h(e,t){return{from:{rowIndex:Math.min(e.rowIndex,t.rowIndex),colIndex:Math.min(e.colIndex,t.colIndex)},to:{rowIndex:Math.max(e.rowIndex,t.rowIndex),colIndex:Math.max(e.colIndex,t.colIndex)}}}function d(e,t,o,n){return e.keyCode==t&&e.shiftKey==o&&(e.ctrlKey==n||e.metaKey==n)}e.setConfigs({"sap.ui.table.Table":{container:"tableCCnt",scrollContainer:"sapUiTableCtrlScr",selectableCells:".sapUiTableDataCell",scrollEvent:"firstVisibleRowChanged",onActivate:function(e,t){var o="rowSelectionChange";var n=e;e.getPlugins().forEach(function(e){if(e.isA("sap.ui.table.plugins.SelectionPlugin")){o="selectionChange";n=e}});n.attachEvent(o,t.clearSelection,t)},onDeactivate:function(e,t){var o="rowSelectionChange";var n=e;e.getPlugins().forEach(function(e){if(e.isA("sap.ui.table.plugins.SelectionPlugin")){o="selectionChange";n=e;return}});n.detachEvent(o,t.clearSelection,t)},getVisibleColumns:function(e){return e.getColumns().filter(function(e){return e.getDomRef()})},isSelectionEnabled:function(e){return!(e.getSelectionBehavior()!=="RowSelector"||e.getSelectionMode()=="None")},getCellRef:function(e,t){var o=this._getRowByIndex(e,t.rowIndex);if(o){var n=this.getVisibleColumns(e)[t.colIndex];var i=n&&o.getCells()[t.colIndex];if(i){return i.$().closest(this.selectableCells)[0]}}},getCellInfo:function(e,t){return{rowIndex:this.rowIndex(null,t),colIndex:this.colIndex(e,t)}},getVisibleRange:function(e){var t=e.getRows();return{from:{rowIndex:t[0].getIndex(),colIndex:0},to:{rowIndex:t[t.length-1].getIndex(),colIndex:this.getVisibleColumns(e).length-1}}},getSelectionAreas:function(e,t,o){var n=[],i=e.getFixedColumnCount();if(i>0&&(t.colIndex<i||t.colIndex===-Infinity)){var s=o.colIndex===Infinity?i-1:Math.min(o.colIndex,i-1);var r={rowIndex:t.rowIndex,colIndex:t.colIndex},l={rowIndex:o.rowIndex,colIndex:s};n.push({container:"sapUiTableCtrlScrFixed",from:r,to:l})}if(o.colIndex>=i||o.colIndex===Infinity){n.push({container:"tableCtrlCnt",from:t,to:o,hasOffset:true})}return n},selectCells:function(e,t,o){var n={},i={top:true,bottom:true};var s=e.getBinding("rows").getLength();n.from=Object.assign({},t.from);n.to=Object.assign({},t.to);n.from.rowIndex=Math.max(n.from.rowIndex,0);n.from.colIndex=Math.max(n.from.colIndex,0);n.to.rowIndex=Math.min(n.to.rowIndex,s);n.to.colIndex=Math.min(n.to.colIndex,this.getVisibleColumns(e).length-1);var r=[];if(o&&o.info){o.info.focus.rowIndex=Math.min(Math.max(o.info.focus.rowIndex,0),s);o.info.focus.colIndex=Math.min(Math.max(o.info.focus.colIndex,0),this.getVisibleColumns(e).length-1);this._focusCell(e,o.info.focus,o.info.direction)}if(n.from.colIndex===0&&n.to.colIndex===this.getVisibleColumns(e).length-1&&e.getSelectionMode()=="Single"){n.from.rowIndex=t.from.rowIndex=o.info.focus.rowIndex;n.to.rowIndex=t.to.rowIndex=o.info.focus.rowIndex}for(var l=n.from.rowIndex;l<=n.to.rowIndex;l++){var a=this._getRowByIndex(e,l);if(a){for(var h=n.from.colIndex;h<=n.to.colIndex;h++){r.push([l,h])}}}return{borderOptions:i,cells:r}},rowIndex:function(e,t){return n.closestTo(t,true).getIndex()},colIndex:function(e,t){return this.getVisibleColumns(e).indexOf(o.byId(t.getAttribute("data-sap-ui-colid")))},loadContexts:function(e,t,o){var n=e.getBinding("rows");if(!n||n.isA("sap.ui.model.ClientListBinding")){return}n.getContexts(Math.max(0,t),Math.max(1,o),0,true)},rowContexts:function(e,t,o,n){if(o==Infinity){var i=e.getBinding("rows").getAllCurrentContexts().length-1;o=Math.min(o,t+n-1,i)}var s=[];for(var r=t;r<=o;r++){s.push(e.getContextByIndex(r))}return s},columnByIndex:function(e,t){var o=this.getVisibleColumns(e)[t];if(!o.getVisible()){return}return o},isNavigatableCell:function(e,t){if((t.rowIndex<0||t.rowIndex>=e.getBinding("rows").getLength()||t.colIndex<0||t.colIndex>=this.getVisibleColumns(e).length)&&!(t.rowIndex==-Infinity||t.rowIndex==Infinity||t.colIndex==-Infinity||t.colIndex==Infinity)){return false}return true},_scrollRow:function(e,t,o){var n=e.getFirstVisibleRow();if(o>=0&&o<e.getBinding("rows").getLength()){if(e.getFixedRowCount()>0&&o==e.getFixedRowCount()){e.setFirstVisibleRow(0)}else{t==s.NEXT?n++:n--;n=n<0?0:n;e.setFirstVisibleRow(n)}}},_focusCell:function(e,t,o){var n=this.getCellRef(e,t);if(!n){this._scrollRow(e,o,t.rowIndex);n=this.getCellRef(e,t);if(!n){e.setFirstVisibleRow(t.rowIndex);n=this.getCellRef(e,t)}}n&&n.focus()},_getRowByIndex:function(e,t){var o=e.getRows();for(var n=0;n<o.length;n++){if(o[n].getIndex()==t){return o[n]}}}}},a);return a});
//# sourceMappingURL=CellSelector.js.map