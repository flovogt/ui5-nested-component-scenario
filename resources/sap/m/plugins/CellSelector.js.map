{"version":3,"file":"CellSelector.js","names":["sap","ui","define","PluginBase","KeyCodes","Core","Element","Log","DIRECTION","ROW","COL","CellSelector","extend","metadata","library","properties","rangeLimit","type","group","defaultValue","enabled","events","EventDelegate","onkeydown","oEvent","this","_bSelecting","isKeyCombination","A","isMarked","getConfig","isCell","target","removeSelection","preventDefault","PriorityDelegate","onBeforeRendering","_iRtl","getConfiguration","getRTL","_oResizer","remove","onAfterRendering","_deregisterEvents","_registerEvents","onsapspace","_isSelectableCell","_startSelection","onsapupmodifiers","_onsaparrowmodifiers","onsapdownmodifiers","onsapleftmodifiers","onsaprightmodifiers","onsapescape","stopPropagation","onkeyup","mBounds","_getNormalizedBounds","_oSession","mSource","mTarget","undefined","SPACE","_inSelection","oInfo","getControl","from","rowIndex","to","setMarked","colIndex","Infinity","_selectCells","onmousedown","ctrlKey","metaKey","_bMouseDown","oSelectableCell","_getSelectableCell","_mClickedCell","onmouseup","_bBorderDown","_bScrolling","_clearScroller","prototype","onActivate","oControl","addDelegate","cellRefs","_mTimeouts","_fnControlUpdate","_scrollSelect","scrollForward","isVertical","bind","_fnOnMouseEnter","_onmouseenter","_fnOnMouseOut","_onmouseout","_fnOnMouseMove","_onmousemove","_fnOnMouseUp","_fnRemoveSelection","onDeactivate","removeDelegate","exit","isDestroyed","call","attachEvent","oScrollArea","getDomRef","addEventListener","document","detachEvent","removeEventListener","getSelectionRange","mSelectionRange","isNaN","iMaxColumnIndex","length","Math","max","min","getSelectedRowContexts","getRangeLimit","sDirectionType","iRowDiff","iColDiff","_shouldBeHandled","shiftKey","focus","_getUpdatedBounds","_updateResizers","clientX","clientY","window","getSelection","removeAllRanges","oBorder","border","mDiff","oScrollAreaRef","oScrollAreaRect","getBoundingClientRect","bForward","bVertical","bottom","top","right","left","_doScroll","scrollTimerId","setTimeout","row","col","sType","mOldFocus","clearTimeout","_onborderdown","Object","assign","_oCurrentBorder","oDomRef","closest","classList","contains","oTarget","oBounds","bMove","oCellInfo","mStart","mFocus","sAdjustRowType","sAdjustColType","mFrom","mTo","_clearSelection","_drawSelection","iRow","iCol","oCellRef","toggle","setAttribute","push","oPrevCellRef","sClass","iPositionX","iPositionY","oResizer","_getResizer","iFromColIndex","oFromRef","oToRef","mOutOfBounds","oFromRect","oToRect","oTableRect","mStyleMap","x","width","y","height","mDiffMap","mFlags","abs","iDiffX","iDiffY","style","bXinRange","bYinRange","createElement","add","appendChild","forEach","removeAttribute","bKeepBounds","iMaxColumns","iMaxRows","toRowIndex","toColIndex","sCell","sKeyCode","bShift","bCtrl","keyCode","setConfigs","tableCell","selectableCells","scrollArea","scrollEvent","eventClearedAll","isSupported","oTable","hasListeners","getSelectionBehavior","getDragDropConfig","some","oConfig","getSourceAggregation","getEnabled","getVisibleColumns","getColumns","filter","oColumn","getRowCount","_getTotalRowCount","getCellRef","mPosition","bRange","aRows","getRows","oRow","find","getIndex","oCell","getCells","$","getCellInfo","closestTo","indexOf","byId","getAttribute","loadContexts","iStartIndex","iLength","oBinding","getBinding","isA","getContexts","rowContexts","iFromIndex","iToIndex","iLimit","iMaxIndex","getAllCurrentContexts","aContexts","i","getContextByIndex","selectRows","iFrom","iTo","iFocus","oSelectionOwner","_getSelectionOwner","sSelectionMode","getSelectionMode","addSelectionInterval","setSelected","isRowSelected","isSelected","isIndexSelected","focusCell","scroll","iFirstVisibleRowIndex","getFirstVisibleRow","iIndex","setFirstVisibleRow","Promise","resolve","oScrollBar","_getScrollExtension","getHorizontalScrollbar","iScrollDiff","pow","scrollLeft","attachSelectionChange","fnCallback","attachRowSelectionChange","detachSelectionChange","detachRowSelectionChange","getPlugin"],"sources":["CellSelector-dbg.js"],"mappings":"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"}